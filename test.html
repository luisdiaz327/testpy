<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Video Gallery</title>

  <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
  <script crossorigin="anonymous" src="https://kit.fontawesome.com/3c5be74ba6.js"></script>

  <style>
    :root {
      --primary: #ff4757;
      --secondary: #1e90ff;
      --accent: #2ed573;
      --dark: #0a0a0a;
      --dark-light: #1a1a1a;
      --text: #f1f1f1;
      --text-secondary: #aaa;
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: var(--dark);
      color: var(--text);
      line-height: 1.6;
    }
    
    header {
      padding: 20px;
      background: var(--dark-light);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      color: var(--primary);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .search-container {
      position: relative;
      width: 300px;
    }
    
    .search-container input {
      width: 100%;
      padding: 10px 15px 10px 40px;
      border-radius: 20px;
      border: none;
      background: rgba(255,255,255,0.1);
      color: var(--text);
      outline: none;
      transition: all 0.3s;
    }
    
    .search-container input:focus {
      background: rgba(255,255,255,0.15);
      box-shadow: 0 0 0 2px var(--primary);
    }
    
    .search-container i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-secondary);
    }
    
    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }
    
    .gallery-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .filter-buttons {
      display: flex;
      gap: 10px;
    }
    
    .filter-btn {
      padding: 8px 16px;
      border-radius: 20px;
      border: none;
      background: var(--dark-light);
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .filter-btn:hover, .filter-btn.active {
      background: var(--primary);
    }
    
    .grid-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .grid-size {
      display: flex;
      background: var(--dark-light);
      border-radius: 20px;
      overflow: hidden;
    }
    
    .grid-btn {
      padding: 8px 12px;
      border: none;
      background: transparent;
      color: var(--text);
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .grid-btn.active {
      background: var(--primary);
    }
    
    #product {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    
    .product {
      position: relative;
      height: 180px;
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
    .product:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }
    
    .product::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%);
      opacity: 0.8;
      transition: opacity 0.3s;
    }
    
    .product:hover::after {
      opacity: 0.6;
    }
    
    .product-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 15px;
      z-index: 2;
    }
    
    .product-info h4 {
      margin: 0 0 8px 0;
      font-size: 16px;
      font-weight: 600;
    }
    
    .product-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      color: var(--text-secondary);
    }
    
    .watch-btn {
      padding: 6px 12px;
      font-size: 12px;
      border: none;
      background: var(--primary);
      color: #fff;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .watch-btn:hover {
      background: #ff2e43;
      transform: translateY(-2px);
    }
    
    /* Modal overlay */
    #info {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 1000;
      padding: 30px 20px;
      overflow-y: auto;
      animation: fadeIn 0.4s ease;
    }
    
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
    
    .modal-content {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
    }
    
    .close-btn {
      position: absolute;
      top: -40px;
      left: 0;
      font-size: 32px;
      cursor: pointer;
      color: var(--primary);
      transition: all 0.3s;
      z-index: 10;
    }
    
    .close-btn:hover {
      transform: scale(1.1);
    }
    
    .video-container {
      position: relative;
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
    }
    
    video {
      width: 100%;
      display: block;
      max-height: 70vh;
      background: #000;
    }
    
    .video-info {
      background: var(--dark-light);
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
    
    .video-info h2 {
      margin-top: 0;
      color: var(--text);
      font-size: 24px;
    }
    
    .video-description {
      color: var(--text-secondary);
      margin-bottom: 20px;
    }
    
    .video-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
      font-size: 14px;
      color: var(--text-secondary);
    }
    
    .meta-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    .action-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    
    .action-btn {
      padding: 10px 20px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
      border: none;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .btn-primary { 
      background: var(--secondary); 
      color: #fff; 
    }
    
    .btn-secondary { 
      background: var(--accent); 
      color: #fff; 
    }
    
    .btn-primary:hover { 
      background: #006ad1; 
      transform: translateY(-2px);
    }
    
    .btn-secondary:hover { 
      background: #1ca95a; 
      transform: translateY(-2px);
    }
    
    .loading {
      text-align: center;
      padding: 40px;
      color: var(--text-secondary);
    }
    
    @media (max-width: 768px) {
      .header-content {
        flex-direction: column;
        gap: 15px;
      }
      
      .search-container {
        width: 100%;
      }
      
      #product {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
      
      .gallery-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .filter-buttons {
        flex-wrap: wrap;
      }
    }
    
    @media (max-width: 480px) {
      #product {
        grid-template-columns: 1fr;
      }
      
      .product {
        height: 200px;
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <i class="fas fa-play-circle"></i>
        <span>Video Gallery</span>
      </div>
      <div class="search-container">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="Search videos..." id="search-input">
      </div>
    </div>
  </header>
  
  <div class="container">
    <div class="gallery-header">
      <div class="filter-buttons">
        <button class="filter-btn active">All</button>
        <button class="filter-btn">Recent</button>
        <button class="filter-btn">Popular</button>
        <button class="filter-btn">Featured</button>
      </div>
      <div class="grid-controls">
        <span>Layout:</span>
        <div class="grid-size">
          <button class="grid-btn active" data-size="small"><i class="fas fa-th"></i></button>
          <button class="grid-btn" data-size="large"><i class="fas fa-th-large"></i></button>
        </div>
      </div>
    </div>
    
    <!--Products-->
    <div id="product">
      <div class="loading">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Loading videos...</p>
      </div>
    </div>
  </div>
  
  <div id="info"></div>

  <script>
    // Sample data in case Data.json is not available
    const sampleData = [
      {
        "title": "Beautiful Nature Scenery",
        "thumbnail": "https://placehold.co/400x225/ff4757/white?text=Nature+Video",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
        "link": "https://example.com",
        "duration": "4:20",
        "views": "12.5K",
        "date": "2 weeks ago"
      },
      {
        "title": "Amazing City Timelapse",
        "thumbnail": "https://placehold.co/400x225/1e90ff/white?text=City+Timelapse",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
        "link": "https://example.com",
        "duration": "2:45",
        "views": "8.7K",
        "date": "1 month ago"
      },
      {
        "title": "Underwater Exploration",
        "thumbnail": "https://placehold.co/400x225/2ed573/white?text=Underwater",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
        "link": "https://example.com",
        "duration": "7:15",
        "views": "23.1K",
        "date": "3 days ago"
      },
      {
        "title": "Mountain Adventure",
        "thumbnail": "https://placehold.co/400x225/ff4757/white?text=Mountain",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",
        "link": "https://example.com",
        "duration": "5:30",
        "views": "15.3K",
        "date": "1 week ago"
      },
      {
        "title": "Stunning Aurora Borealis",
        "thumbnail": "https://placehold.co/400x225/1e90ff/white?text=Aurora",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",
        "link": "https://example.com",
        "duration": "3:50",
        "views": "45.2K",
        "date": "2 months ago"
      },
      {
        "title": "Wildlife Documentary",
        "thumbnail": "https://placehold.co/400x225/2ed573/white?text=Wildlife",
        "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",
        "link": "https://example.com",
        "duration": "12:20",
        "views": "32.7K",
        "date": "5 days ago"
      }
    ];

    // Try to fetch Data.json, fall back to sample data if not available
    let videoData = [];
    
    fetch("Data.json")
      .then(res => {
        if (res.ok) return res.json();
        throw new Error('Data.json not found');
      })
      .then(data => {
        videoData = data;
        renderVideos(data);
      })
      .catch(err => {
        console.error("Error loading Data.json, using sample data:", err);
        videoData = sampleData;
        renderVideos(sampleData);
      });

    function renderVideos(data) {
      let productContainer = document.getElementById("product");
      
      if (data.length === 0) {
        productContainer.innerHTML = `
          <div class="loading">
            <i class="fas fa-video-slash"></i>
            <p>No videos found</p>
          </div>
        `;
        return;
      }
      
      productContainer.innerHTML = '';
      
      data.forEach((item, index) => {
        productContainer.innerHTML += `
          <div class="product" 
            style="background:url('${item.thumbnail}') center/cover;"
            onclick="info(${index})"
            data-title="${item.title.toLowerCase()}">

            <div class="product-info">
              <h4>${item.title.substring(0,30)}${item.title.length > 30 ? '...' : ''}</h4>
              <div class="product-meta">
                <span><i class="far fa-clock"></i> ${item.duration || 'N/A'}</span>
                <span><i class="far fa-eye"></i> ${item.views || 'N/A'}</span>
              </div>
            </div>
            
            <button class="watch-btn">
              <i class="fas fa-play"></i> Watch
            </button>
          </div>
        `;
      });

      // Initialize filter and search functionality
      initFilters();
    }

    function initFilters() {
      // Search functionality
      const searchInput = document.getElementById('search-input');
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const products = document.querySelectorAll('.product');
        
        products.forEach(product => {
          const title = product.getAttribute('data-title');
          if (title.includes(searchTerm)) {
            product.style.display = 'block';
          } else {
            product.style.display = 'none';
          }
        });
      });
      
      // Filter buttons
      const filterButtons = document.querySelectorAll('.filter-btn');
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          filterButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          // In a real app, you would filter the content here
        });
      });
      
      // Grid size controls
      const gridButtons = document.querySelectorAll('.grid-btn');
      gridButtons.forEach(button => {
        button.addEventListener('click', function() {
          gridButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          
          const gridSize = this.getAttribute('data-size');
          const productGrid = document.getElementById('product');
          
          if (gridSize === 'large') {
            productGrid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(300px, 1fr))';
          } else {
            productGrid.style.gridTemplateColumns = 'repeat(auto-fill, minmax(250px, 1fr))';
          }
        });
      });
    }

    // make info() available globally
    window.info = function(num) {
      let infoBox = document.getElementById("info");
      let item = videoData[num];

      infoBox.style.display = "block";
      infoBox.innerHTML = `
        <div class="modal-content">
          <div class="close-btn">
            <i class="fas fa-times-circle" onclick="back_home()"></i>
          </div>
          
          <div class="video-container">
            <video src="${item.video_url}" controls autoplay></video>
          </div>
          
          <div class="video-info">
            <h2>${item.title}</h2>
            
            <div class="video-meta">
              <div class="meta-item">
                <i class="far fa-clock"></i> ${item.duration || 'N/A'}
              </div>
              <div class="meta-item">
                <i class="far fa-eye"></i> ${item.views || 'N/A'} views
              </div>
              <div class="meta-item">
                <i class="far fa-calendar"></i> ${item.date || 'N/A'}
              </div>
            </div>
            
            <p class="video-description">Experience the beauty of this amazing video. Download it to watch offline or visit the original page for more content.</p>
            
            <div class="action-buttons">
              <a href="${item.link}" target="_blank" class="action-btn btn-primary">
                <i class="fas fa-external-link-alt"></i> Open Page
              </a>
              <a href="${item.video_url}" download class="action-btn btn-secondary">
                <i class="fas fa-download"></i> Download
              </a>
              <button class="action-btn" style="background: var(--dark-light);">
                <i class="far fa-bookmark"></i> Save
              </button>
              <button class="action-btn" style="background: var(--dark-light);">
                <i class="far fa-share-square"></i> Share
              </button>
            </div>
          </div>
        </div>
      `;
      
      // Close modal when pressing Escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') back_home();
      });
    }

    // go back
    window.back_home = function() {
      document.getElementById("info").style.display = "none";
      document.getElementById("info").innerHTML = "";
    }
  </script>
</body>
</html>